{% extends 'reviews/base.html' %}
{% block title %}Flux - LITReview{% endblock %}
{% block content %}


<div class="container">
  <h1 style="text-align: center; margin-bottom: 32px;">
       Votre Flux
  </h1>
  
  <!-- Boutons d'actions -->
  <div class="page-actions d-flex  justify-content-between mb-4">
      <a href="{% url 'create_ticket' %}" class="btn btn-primary">Demander une critique</a>
      <a href="{% url 'create_ticket_review' %}" class="btn btn-secondary">Créer une critique</a>
  </div>
  {% if posts %}
      {% for post in posts %}
          {% if post.content_type == 'TICKET' %}
              {% include 'reviews/ticket_snippet.html' with ticket=post %}
          {% elif post.content_type == 'REVIEW' %}
              {% include 'reviews/review_snippet.html' with review=post %}
          {% endif %}          
      {% endfor %}
  {% else %}
      <div class="empty-state text-center py-5">
          <h2>Votre flux est vide</h2>
          <p>Commencez par suivre des utilisateurs ou créez votre premier ticket !</p>
          <div style="margin-top: 24px;">
              <a href="" class="btn btn-primary">Suivre des utilisateurs</a>
          </div>
      </div>
  {% endif %}
</div>
</div>
{% endblock %}